<script type="text/javascript">
  
  $(document).on('change','#slcCliente',function(){

    let cnf = {
      model  : 'equipment',
      method : 'sitios',
      params : {
        val : $(this).val(),
        def : '',
        typ : 'echo'
      },
      target : 'slcSitios'
    };

    cmbdep(cnf);

  });

  $(document).on('change','#slcMarca',function(){
     
    let cnf = {
      model  : 'equipment',
      method : 'listsdep',
      params : {
        idlst : $(this).val(),
        str   : 'SELECCIONE MODELO',
        def   : '',
      },
      target : 'slcModelo'
    };

    cmbdep(cnf);

  });

</script>

{header}

<br>

<div class="col-lg-12">

  <div class="card">

    <div class="card-header d-flex align-items-center">
      <h3 class="h4">Filtro de equipos</h3>
    </div>
    
    <div class="card-body">
      
      <form id="equipment" name="equipment" action="listar">

      	<div class="row">

          <div class="col-lg-4">
            <div class="form-group">
              <label class="form-control-label">Cliente</label>
              <select id="slcCliente" name="slcCliente" class="form-control cliente">{empresas}</select>
              <input type="hidden" name="hidCliente" id="hidCliente" class="clihid">
            </div>
          </div>

          <div class="col-lg-8">
            <div class="form-group">
              <label class="form-control-label">Proyectos/Minas</label>
              <select id="slcSitios" name="slcSitios" class="form-control proyecto"></select>
              <input type="hidden" name="hidProyecto" id="hidProyecto" class="proyhid">
            </div>
          </div>

      	</div>

        <div class="row">

          <div class="col-lg-4">
            <div class="form-group">
              <label class="form-control-label">Flota equipo</label>
              <select id="slcFlotas" name="slcFlotas" class="form-control">{flotas}</select>
            </div>
          </div>
          
          <div class="col-lg-4">
						<div class="form-group">
							<label class="form-control-label">Número interno</label>
							<input type="text" id="txtNumInter" name="txtNumInter" placeholder="Número interno" class="form-control">
						</div>
					</div>

          <div class="col-lg-4">
            <div class="form-group">
              <label class="form-control-label">Número serial</label>
              <input type="text" id="txtNumSer" name="txtNumSer" placeholder="Número serial" class="form-control">
            </div>
          </div>    

        </div>

        <div class="row">

          <div class="col-lg-4">
            <div class="form-group">
              <label class="form-control-label">Marca</label>
              <select id="slcMarca" name="slcMarca" class="form-control">{marcas}</select>
            </div>
          </div>

          <div class="col-lg-4">
            <div class="form-group">
              <label class="form-control-label">Modelo</label>
              <select id="slcModelo" name="slcModelo" class="form-control"></select>
            </div>
          </div>
          
          <div class="col-lg-4">
            <div class="form-group">
              <label class="form-control-label">Estado equipo</label>
              <select id="slcEstado" name="slcEstado" class="form-control">{estados}</select>
            </div>
          </div>

        </div>

      </form>

    </div>

    <div class="card-footer text-right">

    	<button id="btnList" type="button" class="btn btn-info" target="table-cont">
    		Buscar &nbsp;&nbsp;<i class="fa fa-search"></i>
    	</button>

    	&nbsp;&nbsp;

    	<button id="btnNew" type="button" class="btn btn-success" target="module-cont">
    		Nuevo &nbsp;&nbsp;<i class="fa fa-plus"></i>
    	</button>

    	&nbsp;&nbsp;

    	<button id="btnCancel" type="button" class="btn btn-primary" action="clean-form" target="table-cont">
          Limpiar &nbsp;&nbsp;<i class="fa fa-eraser"></i>
      </button>

    </div>
  
  </div>

	<div class="card">

		<div class="card-header d-flex align-items-center">
			<h3 class="h4">Resultados</h3>
		</div>

		<div class="card-body">

			<div id="table-cont" class="table-responsive" style="display: none; font-size: 12px;"></div>

		</div>

	</div>

</div>

{footer}